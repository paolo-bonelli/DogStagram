(this["webpackJsonpdog-stagram"]=this["webpackJsonpdog-stagram"]||[]).push([[0],{28:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(21),a=n.n(r),s=(n(28),n(15)),o=n(10),d=n.n(o),l=n(16),j=n(8),u=n(5),b=n(0),h=function(e){var t=e.title;return Object(b.jsxs)("header",{className:"main-header",children:[Object(b.jsx)("h1",{className:"header-title",children:Object(b.jsx)("a",{href:"./",children:t})}),Object(b.jsx)(u.d,{className:"btn-icon",onClick:function(e){console.log("Saved items")}})]})};h.defaultProps={title:"DogStagram"};var m=h,f=n(11);var g=function(){return Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)(f.b,{to:"/",children:Object(b.jsx)(u.c,{className:"btn-icon",onClick:function(e){console.log("Inicio")}})}),Object(b.jsx)(f.b,{to:"/add",children:Object(b.jsx)(u.f,{className:"btn-icon",onClick:function(e){console.log("Agregar")}})}),Object(b.jsx)(f.b,{to:"/explorer",children:Object(b.jsx)(u.g,{className:"btn-icon",onClick:function(e){console.log("Explorar")}})})]})})},p=function(e){var t=e.dog,n=e.onLike,c=e.onDislike,i=e.onPin,r=e.onShare;return Object(b.jsxs)("article",{className:"dog-post",children:[Object(b.jsxs)("figure",{children:[Object(b.jsx)("figcaption",{children:t.breed}),Object(b.jsx)("img",{className:"dog-img",src:t.image,onDoubleClick:function(e){n(t.id)},alt:t.breed})]}),Object(b.jsxs)("section",{className:"dog-actions",children:[Object(b.jsxs)("div",{className:"btn-group",children:[Object(b.jsx)(u.i,{className:"btn-icon ".concat(t.liked?"btn-icon-check":""),onClick:function(e){n(t.id)}}),Object(b.jsx)(u.h,{className:"btn-icon ".concat(t.disliked?"btn-icon-check":""),onClick:function(e){c(t.id)}}),Object(b.jsx)(u.e,{className:"btn-icon",onClick:function(e){r(t.id)}})]}),Object(b.jsx)(u.a,{className:"btn-icon ".concat(t.pinned?"btn-icon-check":""),onClick:function(e){i(t.id)}})]})]})};var O=function(e){var t=e.dogs,n=e.onLike,c=e.onDislike,i=e.onPin,r=e.onShare,a=t.map((function(e){return Object(b.jsx)(p,{dog:e,onLike:n,onDislike:c,onPin:i,onShare:r},e.id.toString())}));return Object(b.jsx)("section",{className:"dog-posts",children:a})};var x=function(e){return this.id=e,this.liked=!1,this.disliked=!1,this.pinned=!1,this.setBreed=function(e){return this.breed=e,this},this.setImg=function(e){return this.image=e,this},this.likeDog=function(){return this.liked=!0,this.disliked=!1,this},this.dislikeDog=function(){return this.liked=!1,this.disliked=!0,this},this.pinDog=function(){return this.pinned=!this.pinned,this},this},v=n(2);var k=function(e){var t=e.isSelected,n=e.fileRoute,c=e.fileName;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("label",{htmlFor:"dog-image",children:[Object(b.jsxs)("div",{className:"dog-image-placeholder ".concat(t?"hidden":""),children:[Object(b.jsx)(u.b,{className:"upload-icon"}),Object(b.jsx)("p",{children:"No ha elejido ning\xfan archivo"})]}),Object(b.jsxs)("figure",{children:[Object(b.jsx)("img",{src:n,alt:"No ha elegido ninguna imagen",className:"dog-image ".concat(t?"":"hidden")}),Object(b.jsx)("figcaption",{children:t?c:""})]})]})})};var N=function(e){var t=e.dogBreeds,n=Object(c.useState)(!1),i=Object(j.a)(n,2),r=i[0],a=i[1],o=Object(c.useState)({}),d=Object(j.a)(o,2),l=d[0],u=d[1],h=Object(c.useState)(""),m=Object(j.a)(h,2),f=m[0],g=m[1],p=Object(c.useState)(""),O=Object(j.a)(p,2),x=O[0],v=O[1],N=[].concat(Object(s.a)(t.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)}))),[Object(b.jsx)("option",{value:"0",children:"No identificado"},"0")]);return Object(c.useEffect)((function(e){if(l instanceof File){v(l.name);var t=new FileReader;t.addEventListener("load",(function(){g(t.result)})),t.readAsDataURL(l)}else v(""),a(!1)}),[l]),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(e.target)},className:"add-form",encType:"multipart/form-data",method:"POST",children:[Object(b.jsxs)("div",{className:"form-control",children:[Object(b.jsx)("label",{htmlFor:"dog-breed",children:"Raza de perro:"}),Object(b.jsx)("select",{name:"dog-breed",id:"dog-breed",children:N})]}),Object(b.jsxs)("div",{className:"form-control-upload",children:[Object(b.jsx)(k,{isSelected:r,fileName:x,fileRoute:f}),Object(b.jsx)("input",{onChange:function(e){u(e.target.files[0]),a(!0)},type:"file",name:"dog-image",id:"dog-image",accept:"image/png, image/jpeg",required:!0,hidden:!0})]}),Object(b.jsx)("input",{type:"submit",value:"Agregar",className:"form-control btn-submit"})]})};var w=function(e){var t=e.dog;return e.onLike,e.onDislike,e.onPin,e.onShare,Object(b.jsx)("article",{className:"dog-thumbnail",children:Object(b.jsxs)("figure",{id:t.id,children:[Object(b.jsx)("figcaption",{children:t.breed}),Object(b.jsx)("img",{src:t.image,alt:t.breed})]})})};var S=function(e){var t=e.dogs,n=e.dogBreeds,c=(e.onLike,e.onDislike,e.onPin,e.onShare,e.toChangeBreed),i=n.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)})),r=t.map((function(e){return Object(b.jsx)(w,{dog:e})}));return Object(b.jsxs)("section",{className:"explorer",children:[Object(b.jsx)("form",{onSubmit:function(e){e.target.preventDefault()},method:"get",onChange:function(e){c(e.target.value)},children:Object(b.jsx)("select",{name:"dog-breeds",id:"dog-breeds",children:i})}),Object(b.jsx)("section",{className:"dogs-list-thumbnails",children:r})]})};var C=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)([]),a=Object(j.a)(r,2),o=a[0],u=a[1],h=Object(c.useState)(1),p=Object(j.a)(h,2),k=p[0],w=p[1],C=Object(c.useState)([]),D=Object(j.a)(C,2),P=D[0],L=D[1],B=Object(c.useCallback)(Object(l.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URL("https://api.thedogapi.com/v1/images/search")).searchParams.append("limit",21),t.searchParams.append("mime_types","jpg"),t.searchParams.append("breed_id",k),e.next=6,fetch(t);case 6:return n=e.sent,e.next=9,n.json();case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)}))),[k]),F=function(){var e=Object(l.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URL("https://api.thedogapi.com/v1/images/search")).searchParams.append("limit",10),t.searchParams.append("mime_types","jpg"),e.next=5,fetch(t);case 5:return n=e.sent,e.next=8,n.json();case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL("https://api.thedogapi.com/v1/breeds"),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){F().then((function(e){i(e.map((function(e){return new x(e.id).setBreed(e.breeds.length>0?e.breeds[0].name:"No identificado").setImg(e.url)})))})),y().then((function(e){u([{name:"No identificado",id:0}].concat(Object(s.a)(e.map((function(e){return{name:e.name,id:e.id}})))))})),B().then((function(e){L(e.map((function(e){return new x(e.id).setImg(e.url).setBreed(e.breeds[0].name)})))}))}),[B]);var I=function(e){i(n.map((function(t){return t.id===e?t.likeDog():t})))},R=function(e){i(n.map((function(t){return t.id===e?t.dislikeDog():t})))},E=function(e){i(n.map((function(t){return t.id===e?t.pinDog():t})))},T=function(e){console.log("Share it ".concat(e))};return Object(b.jsx)(f.a,{children:Object(b.jsxs)("div",{className:"main-container",children:[Object(b.jsx)(m,{}),Object(b.jsx)(v.a,{path:"/",exact:!0,render:function(e){return Object(b.jsx)(O,{dogs:n,onLike:I,onDislike:R,onPin:E,onShare:T})}}),Object(b.jsx)(v.a,{path:"/add",render:function(e){return Object(b.jsx)(N,{dogBreeds:o})}}),Object(b.jsx)(v.a,{path:"/explorer",exact:!0,render:function(e){return Object(b.jsx)(S,{dogBreeds:o,toChangeBreed:w,dogs:P,onLike:I,onDislike:R,onPin:E,onShare:T})}}),Object(b.jsxs)("footer",{children:[Object(b.jsxs)("div",{children:["Icons made by ",Object(b.jsx)("a",{href:"https://www.flaticon.com/authors/becris",title:"Becris",children:"Becris"})," from ",Object(b.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]}),Object(b.jsxs)("div",{children:["Icons made by ",Object(b.jsx)("a",{href:"https://www.flaticon.com/authors/gregor-cresnar",title:"Gregor Cresnar",children:"Gregor Cresnar"})," from ",Object(b.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})]}),Object(b.jsx)(g,{})]})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root")),D(console.log)}},[[36,1,2]]]);
//# sourceMappingURL=main.31e6acc0.chunk.js.map
(this["webpackJsonpdog-stagram"]=this["webpackJsonpdog-stagram"]||[]).push([[0],{28:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),a=n(21),s=n.n(a),r=(n(28),n(15)),o=n(10),d=n.n(o),l=n(16),u=n(8),j=n(5),b=n(0),h=function(e){var t=e.title;return Object(b.jsxs)("header",{className:"main-header",children:[Object(b.jsx)("h1",{className:"header-title",children:Object(b.jsx)("a",{href:"./",children:t})}),Object(b.jsx)(j.d,{className:"btn-icon",onClick:function(e){console.log("Saved items")}})]})};h.defaultProps={title:"DogStagram"};var m=h,g=n(11);var f=function(){return Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)(g.b,{to:"/",children:Object(b.jsx)(j.c,{className:"btn-icon",onClick:function(e){console.log("Inicio")}})}),Object(b.jsx)(g.b,{to:"/add",children:Object(b.jsx)(j.f,{className:"btn-icon",onClick:function(e){console.log("Agregar")}})}),Object(b.jsx)(g.b,{to:"/explorer",children:Object(b.jsx)(j.g,{className:"btn-icon",onClick:function(e){console.log("Explorar")}})})]})})},p=n.p+"static/media/dog.b230aa54.svg",O=function(e){var t=e.dog,n=e.onLike,i=e.onDislike,c=e.onPin,a=e.onShare;return Object(b.jsxs)("article",{className:"dog-post",children:[Object(b.jsxs)("figure",{children:[Object(b.jsx)("figcaption",{children:t.breed}),Object(b.jsx)("img",{onLoad:function(e){e.target.src=t.image},className:"dog-img",src:p,onDoubleClick:function(e){n(t.id)},alt:t.breed})]}),Object(b.jsxs)("section",{className:"dog-actions",children:[Object(b.jsxs)("div",{className:"btn-group",children:[Object(b.jsx)(j.i,{className:"btn-icon ".concat(t.liked?"btn-icon-check":""),onClick:function(e){n(t.id)}}),Object(b.jsx)(j.h,{className:"btn-icon ".concat(t.disliked?"btn-icon-check":""),onClick:function(e){i(t.id)}}),Object(b.jsx)(j.e,{className:"btn-icon",onClick:function(e){a(t.id)}})]}),Object(b.jsx)(j.a,{className:"btn-icon ".concat(t.pinned?"btn-icon-check":""),onClick:function(e){c(t.id)}})]})]})};var x=function(e){var t=e.dogs,n=e.onLike,i=e.onDislike,c=e.onPin,a=e.onShare,s=t.slice(0,11).map((function(e){return Object(b.jsx)(O,{dog:e,onLike:n,onDislike:i,onPin:c,onShare:a},e.id.toString())}));return Object(b.jsx)("section",{className:"dog-posts",children:s})};var v=function(e){return this.id=e,this.liked=!1,this.disliked=!1,this.pinned=!1,this.setBreed=function(e){return this.breed=e,this},this.setImg=function(e){return this.image=e,this},this.likeDog=function(){return this.liked=!0,this.disliked=!1,this},this.dislikeDog=function(){return this.liked=!1,this.disliked=!0,this},this.pinDog=function(){return this.pinned=!this.pinned,this},this},k=n(2);var N=function(e){var t=e.isSelected,n=e.fileRoute,i=e.fileName;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("label",{htmlFor:"dog-image",children:[Object(b.jsxs)("div",{className:"dog-image-placeholder ".concat(t?"hidden":""),children:[Object(b.jsx)(j.b,{className:"upload-icon"}),Object(b.jsx)("p",{children:"No ha elejido ning\xfan archivo"})]}),Object(b.jsxs)("figure",{children:[Object(b.jsx)("img",{src:n,alt:"No ha elegido ninguna imagen",className:"dog-image ".concat(t?"":"hidden")}),Object(b.jsx)("figcaption",{children:t?i:""})]})]})})};var S=function(e){var t=e.dogBreeds,n=Object(i.useState)(!1),c=Object(u.a)(n,2),a=c[0],s=c[1],o=Object(i.useState)({}),d=Object(u.a)(o,2),l=d[0],j=d[1],h=Object(i.useState)(""),m=Object(u.a)(h,2),g=m[0],f=m[1],p=Object(i.useState)(""),O=Object(u.a)(p,2),x=O[0],v=O[1],k=[].concat(Object(r.a)(t.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)}))),[Object(b.jsx)("option",{value:"0",children:"No identificado"},"0")]);return Object(i.useEffect)((function(e){if(l instanceof File){v(l.name);var t=new FileReader;t.addEventListener("load",(function(){f(t.result)})),t.readAsDataURL(l)}else v(""),s(!1)}),[l]),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(e.target)},className:"add-form",encType:"multipart/form-data",method:"POST",children:[Object(b.jsxs)("div",{className:"form-control",children:[Object(b.jsx)("label",{htmlFor:"dog-breed",children:"Raza de perro:"}),Object(b.jsx)("select",{name:"dog-breed",id:"dog-breed",children:k})]}),Object(b.jsxs)("div",{className:"form-control-upload",children:[Object(b.jsx)(N,{isSelected:a,fileName:x,fileRoute:g}),Object(b.jsx)("input",{onChange:function(e){j(e.target.files[0]),s(!0)},type:"file",name:"dog-image",id:"dog-image",accept:"image/png, image/jpeg",required:!0,hidden:!0})]}),Object(b.jsx)("input",{type:"submit",value:"Agregar",className:"form-control btn-submit"})]})};var D=function(e){var t=e.dog;return e.onLike,e.onDislike,e.onPin,e.onShare,Object(b.jsx)("article",{className:"dog-thumbnail",children:Object(b.jsx)("div",{className:"",children:Object(b.jsx)("figure",{id:t.id,children:Object(b.jsx)("img",{src:t.image,alt:t.breed})})})})};var C=function(e){var t=e.dogs,n=e.dogBreeds,i=(e.onLike,e.onDislike,e.onPin,e.onShare,e.toChangeBreed),c=n.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)})),a=t.map((function(e){return Object(b.jsx)(D,{dog:e},e.id)}));return Object(b.jsxs)("section",{className:"explorer",children:[Object(b.jsx)("form",{onSubmit:function(e){e.target.preventDefault()},method:"get",onChange:function(e){i(e.target.value)},children:Object(b.jsx)("select",{name:"dog-breeds",id:"dog-breeds",children:c})}),Object(b.jsx)("section",{className:"dogs-list-thumbnails",children:a})]})};var P=function(){var e=Object(i.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)([]),s=Object(u.a)(a,2),o=s[0],j=s[1],h=Object(i.useState)(1),p=Object(u.a)(h,2),O=p[0],N=p[1],D=Object(i.useState)([]),P=Object(u.a)(D,2),L=P[0],w=P[1],y=Object(i.useCallback)(Object(l.a)(d.a.mark((function e(){var t,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URL("https://api.thedogapi.com/v1/images/search")).searchParams.append("limit",21),t.searchParams.append("mime_types","jpg"),t.searchParams.append("breed_id",O),e.next=6,fetch(t);case 6:return n=e.sent,e.next=9,n.json();case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)}))),[O]),B=function(){var e=Object(l.a)(d.a.mark((function e(){var t,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URL("https://api.thedogapi.com/v1/images/search")).searchParams.append("limit",100),t.searchParams.append("mime_types","jpg"),e.next=5,fetch(t);case 5:return n=e.sent,e.next=8,n.json();case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(d.a.mark((function e(){var t,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL("https://api.thedogapi.com/v1/breeds"),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){B().then((function(e){c(e.map((function(e){return new v(e.id).setBreed(e.breeds.length>0?e.breeds[0].name:"No identificado").setImg(e.url)})))})),F().then((function(e){j([{name:"No identificado",id:"NO"}].concat(Object(r.a)(e.map((function(e){return{name:e.name,id:e.id}})))))})),y().then((function(e){w(e.map((function(e){return new v(e.id).setImg(e.url).setBreed(e.breeds[0].name)})))}))}),[y]);var R=function(e){c(n.map((function(t){return t.id===e?t.likeDog():t})))},I=function(e){c(n.map((function(t){return t.id===e?t.dislikeDog():t})))},E=function(e){c(n.map((function(t){return t.id===e?t.pinDog():t})))},A=function(e){console.log("Share it ".concat(e))};return Object(b.jsx)(g.a,{children:Object(b.jsxs)("div",{className:"main-container",children:[Object(b.jsx)(m,{}),Object(b.jsx)(k.a,{path:"/",exact:!0,render:function(e){return Object(b.jsx)(x,{dogs:n,onLike:R,onDislike:I,onPin:E,onShare:A})}}),Object(b.jsx)(k.a,{path:"/add",render:function(e){return Object(b.jsx)(S,{dogBreeds:o})}}),Object(b.jsx)(k.a,{path:"/explorer",exact:!0,render:function(e){return Object(b.jsx)(C,{dogBreeds:o,toChangeBreed:N,dogs:L,onLike:R,onDislike:I,onPin:E,onShare:A})}}),Object(b.jsx)(f,{}),Object(b.jsx)("footer",{children:Object(b.jsx)("a",{href:"https://storyset.com/animal",children:"Animal illustrations by Storyset"})})]})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),c(e),a(e),s(e)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(P,{})}),document.getElementById("root")),L(console.log)}},[[36,1,2]]]);
//# sourceMappingURL=main.9cb1c691.chunk.js.map